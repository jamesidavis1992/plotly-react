{"version":3,"sources":["factory.js"],"names":["_typeof2","Symbol","iterator","obj","constructor","prototype","_typeof","Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","default","plotComponentFactory","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_fastIsnumeric","_fastIsnumeric2","_objectAssign","_objectAssign2","__esModule","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","eventNames","updateEvents","isBrowser","window","Plotly","hasReactAPIMethod","react","PlotlyComponent","_Component","_this","getPrototypeOf","p","Promise","resolve","resizeHandler","handlers","syncWindowResize","bind","syncEventHandlers","attachUpdateEvents","getRef","handleUpdate","componentDidMount","_this2","then","newPlot","el","data","layout","sizeAdjustedLayout","config","frames","onInitialized","onError","componentWillReceiveProps","nextProps","_this3","nextLayout","catch","err","componentWillUnmount","removeEventListener","handleResize","removeUpdateEvents","purge","on","off","onUpdate","invoke","_this4","fit","relayout","getSize","addEventListener","debug","gd","eventName","prop","hasHandler","handler","toLowerCase","getParentSize","parentElement","getBoundingClientRect","rect","layoutWidth","width","layoutHeight","height","hasWidth","hasHeight","parseInt","render","createElement","style","position","display","ref","Component","propTypes","bool","arrayOf","object","func","defaultProps","module"],"mappings":"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","file":"factory.js","sourcesContent":["\"use strict\";\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nexports.default = plotComponentFactory;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _fastIsnumeric = require(\"fast-isnumeric\");\n\nvar _fastIsnumeric2 = _interopRequireDefault(_fastIsnumeric);\n\nvar _objectAssign = require(\"object-assign\");\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && ((typeof call === \"undefined\" ? \"undefined\" : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : _typeof(superClass)));\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\n// import throttle from \"throttle-debounce/throttle\";\n\n// The naming convention is:\n//   - events are attached as `'plotly_' + eventName.toLowerCase()`\n//   - react props are `'on' + eventName`\nvar eventNames = [\"AfterExport\", \"AfterPlot\", \"Animated\", \"AnimatingFrame\", \"AnimationInterrupted\", \"AutoSize\", \"BeforeExport\", \"ButtonClicked\", \"Click\", \"ClickAnnotation\", \"Deselect\", \"DoubleClick\", \"Framework\", \"Hover\", \"Relayout\", \"Restyle\", \"Redraw\", \"Selected\", \"Selecting\", \"SliderChange\", \"SliderEnd\", \"SliderStart\", \"Transitioning\", \"TransitionInterrupted\", \"Unhover\"];\n\nvar updateEvents = [\"plotly_restyle\", \"plotly_redraw\", \"plotly_relayout\", \"plotly_doubleclick\", \"plotly_animated\"];\n\n// Check if a window is available since SSR (server-side rendering)\n// breaks unnecessarily if you try to use it server-side.\nvar isBrowser = typeof window !== \"undefined\";\n\nfunction plotComponentFactory(Plotly) {\n  var hasReactAPIMethod = !!Plotly.react;\n\n  var PlotlyComponent = function (_Component) {\n    _inherits(PlotlyComponent, _Component);\n\n    function PlotlyComponent(props) {\n      _classCallCheck(this, PlotlyComponent);\n\n      var _this = _possibleConstructorReturn(this, (PlotlyComponent.__proto__ || Object.getPrototypeOf(PlotlyComponent)).call(this, props));\n\n      _this.p = Promise.resolve();\n      _this.resizeHandler = null;\n      _this.handlers = {};\n\n      _this.syncWindowResize = _this.syncWindowResize.bind(_this);\n      _this.syncEventHandlers = _this.syncEventHandlers.bind(_this);\n      _this.attachUpdateEvents = _this.attachUpdateEvents.bind(_this);\n      _this.getRef = _this.getRef.bind(_this);\n\n      //this.handleUpdate = throttle(0, this.handleUpdate.bind(this));\n      _this.handleUpdate = _this.handleUpdate.bind(_this);\n      return _this;\n    }\n\n    _createClass(PlotlyComponent, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        this.p = this.p.then(function () {\n          return Plotly.newPlot(_this2.el, {\n            data: _this2.props.data,\n            layout: _this2.sizeAdjustedLayout(_this2.props.layout),\n            config: _this2.props.config,\n            frames: _this2.props.frames\n          });\n        }).then(this.attachUpdateEvents).then(function () {\n          return _this2.syncWindowResize(null, false);\n        }).then(function () {\n          return _this2.syncEventHandlers();\n        }).then(function () {\n          _this2.props.onInitialized && _this2.props.onInitialized();\n        }, function () {\n          _this2.props.onError && _this2.props.onError();\n        });\n      }\n    }, {\n      key: \"componentWillReceiveProps\",\n      value: function componentWillReceiveProps(nextProps) {\n        var _this3 = this;\n\n        var nextLayout = this.sizeAdjustedLayout(nextProps.layout);\n\n        this.p = this.p.then(function () {\n          if (hasReactAPIMethod) {\n            return Plotly.react(_this3.el, {\n              data: nextProps.data,\n              layout: nextLayout,\n              config: nextProps.config,\n              frames: nextProps.frames\n            });\n          } else {\n            return Plotly.newPlot(_this3.el, {\n              data: nextProps.data,\n              layout: nextLayout,\n              config: nextProps.config,\n              frames: nextProps.frames\n            });\n          }\n        }).then(function () {\n          return _this3.syncEventHandlers(nextProps);\n        }).then(function () {\n          return _this3.syncWindowResize(nextProps);\n        }).then(function () {\n          return _this3.handleUpdate(nextProps);\n        }).catch(function (err) {\n          _this3.props.onError && _this3.props.onError(err);\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (this.resizeHandler && isBrowser) {\n          window.removeEventListener(\"resize\", this.handleResize);\n          this.resizeHandler = null;\n        }\n\n        this.removeUpdateEvents();\n\n        Plotly.purge(this.el);\n      }\n    }, {\n      key: \"attachUpdateEvents\",\n      value: function attachUpdateEvents() {\n        for (var i = 0; i < updateEvents.length; i++) {\n          this.el.on(updateEvents[i], this.handleUpdate);\n        }\n      }\n    }, {\n      key: \"removeUpdateEvents\",\n      value: function removeUpdateEvents() {\n        if (!this.el || !this.el.off) return;\n\n        for (var i = 0; i < updateEvents.length; i++) {\n          this.el.off(updateEvents[i], this.handleUpdate);\n        }\n      }\n    }, {\n      key: \"handleUpdate\",\n      value: function handleUpdate(props) {\n        props = props || this.props;\n        if (props.onUpdate && typeof props.onUpdate === \"function\") {\n          props.onUpdate(this.el);\n        }\n      }\n    }, {\n      key: \"syncWindowResize\",\n      value: function syncWindowResize(props, invoke) {\n        var _this4 = this;\n\n        props = props || this.props;\n        if (!isBrowser) return;\n\n        if (props.fit && !this.resizeHandler) {\n          this.resizeHandler = function () {\n            return Plotly.relayout(_this4.el, _this4.getSize());\n          };\n          window.addEventListener(\"resize\", this.resizeHandler);\n\n          if (invoke) return this.resizeHandler();\n        } else if (!props.fit && this.resizeHandler) {\n          window.removeEventListener(\"resize\", this.resizeHandler);\n          this.resizeHandler = null;\n        }\n      }\n    }, {\n      key: \"getRef\",\n      value: function getRef(el) {\n        this.el = el;\n\n        if (this.props.debug && isBrowser) {\n          window.gd = this.el;\n        }\n      }\n\n      // Attach and remove event handlers as they're added or removed from props:\n\n    }, {\n      key: \"syncEventHandlers\",\n      value: function syncEventHandlers(props) {\n        // Allow use of nextProps if passed explicitly:\n        props = props || this.props;\n\n        for (var i = 0; i < eventNames.length; i++) {\n          var eventName = eventNames[i];\n          var prop = props[\"on\" + eventName];\n          var hasHandler = !!this.handlers[eventName];\n\n          if (prop && !hasHandler) {\n            var handler = this.handlers[eventName] = props[\"on\" + eventName];\n            this.el.on(\"plotly_\" + eventName.toLowerCase(), handler);\n          } else if (!prop && hasHandler) {\n            // Needs to be removed:\n            this.el.off(\"plotly_\" + eventName.toLowerCase(), this.handlers[eventName]);\n            delete this.handlers[eventName];\n          }\n        }\n      }\n    }, {\n      key: \"sizeAdjustedLayout\",\n      value: function sizeAdjustedLayout(layout) {\n        if (this.props.fit) {\n          layout = (0, _objectAssign2.default)({}, layout);\n          (0, _objectAssign2.default)(layout, this.getSize(layout));\n        }\n\n        return layout;\n      }\n    }, {\n      key: \"getParentSize\",\n      value: function getParentSize() {\n        return this.el.parentElement.getBoundingClientRect();\n      }\n    }, {\n      key: \"getSize\",\n      value: function getSize(layout) {\n        var rect = void 0;\n        layout = layout || this.props.layout;\n        var layoutWidth = layout ? layout.width : null;\n        var layoutHeight = layout ? layout.height : null;\n        var hasWidth = (0, _fastIsnumeric2.default)(layoutWidth);\n        var hasHeight = (0, _fastIsnumeric2.default)(layoutHeight);\n\n        if (!hasWidth || !hasHeight) {\n          rect = this.getParentSize();\n        }\n\n        return {\n          width: hasWidth ? parseInt(layoutWidth) : rect.width,\n          height: hasHeight ? parseInt(layoutHeight) : rect.height\n        };\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return _react2.default.createElement(\"div\", {\n          style: {\n            position: \"relative\",\n            display: \"inline-block\"\n          },\n          ref: this.getRef\n        });\n      }\n    }]);\n\n    return PlotlyComponent;\n  }(_react.Component);\n\n  PlotlyComponent.propTypes = {\n    fit: _propTypes2.default.bool,\n    data: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    config: _propTypes2.default.object,\n    layout: _propTypes2.default.object,\n    frames: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    onInitialized: _propTypes2.default.func,\n    onError: _propTypes2.default.func,\n    onUpdate: _propTypes2.default.func,\n    debug: _propTypes2.default.bool\n  };\n\n  for (var i = 0; i < eventNames.length; i++) {\n    PlotlyComponent.propTypes[\"on\" + eventNames[i]] = _propTypes2.default.func;\n  }\n\n  PlotlyComponent.defaultProps = {\n    debug: false,\n    fit: false,\n    data: []\n  };\n\n  return PlotlyComponent;\n}\nmodule.exports = exports[\"default\"];\n//# sourceMappingURL=factory.js.map\n//# sourceMappingURL=factory.js.map\n//# sourceMappingURL=factory.js.map"]}